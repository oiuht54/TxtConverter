<Window x:Class="TxtConverter.Views.SelectionWindow"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:models="clr-namespace:TxtConverter.Core.Models"
WindowStyle="None" ResizeMode="CanResize"
Width="600" Height="700"
WindowStartupLocation="CenterOwner"
Title="Select Files" Background="{StaticResource BgColor}">
<Border BorderBrush="#333333" BorderThickness="1">
<Grid>
<Grid.RowDefinitions>
<RowDefinition Height="Auto"/>
<!-- Title -->
<RowDefinition Height="Auto"/>
<!-- Toolbar -->
<RowDefinition Height="*"/>
<!-- Tree -->
<RowDefinition Height="Auto"/>
<!-- Buttons -->
</Grid.RowDefinitions>
<!-- Title Bar -->
<Grid Grid.Row="0" Background="#2d2d30" MouseDown="TitleBar_MouseDown">
<TextBlock Text="{DynamicResource ui_select_files_btn}" FontWeight="Bold" Foreground="White" Margin="10,8" VerticalAlignment="Center"/>
<Button Style="{StaticResource CloseButton}" HorizontalAlignment="Right" Click="Cancel_Click" Content="X"/>
</Grid>
<!-- Toolbar -->
<Grid Grid.Row="1" Margin="15,10">
<Grid.ColumnDefinitions>
<ColumnDefinition Width="Auto"/>
<ColumnDefinition Width="Auto"/>
<ColumnDefinition Width="*"/>
<ColumnDefinition Width="Auto"/>
</Grid.ColumnDefinitions>
<TextBlock Text="View Mode: " VerticalAlignment="Center" Margin="0,0,10,0"/>
<ComboBox x:Name="ViewModeCombo" Grid.Column="1" Width="150" SelectionChanged="ViewMode_Changed">
<ComboBoxItem Content="By Type (Extensions)" IsSelected="True"/>
<ComboBoxItem Content="By Folder (FileSystem)"/>
</ComboBox>
<StackPanel Grid.Column="3" Orientation="Horizontal">
<Button Content="Select All" Click="SelectAll_Click" Margin="0,0,10,0"/>
<Button Content="Select None" Click="SelectNone_Click"/>
</StackPanel>
</Grid>
<!-- TreeView -->
<TreeView x:Name="FileTree" Grid.Row="2" Margin="15,0,15,10"
Background="{StaticResource BgColor}" BorderBrush="#333333" BorderThickness="1">
<TreeView.ItemTemplate>
<HierarchicalDataTemplate DataType="{x:Type models:FileTreeNode}" ItemsSource="{Binding Children}">
<StackPanel Orientation="Horizontal">
<CheckBox IsChecked="{Binding IsChecked}" Margin="0,0,5,0" VerticalAlignment="Center"/>
<TextBlock Text="{Binding Name}" VerticalAlignment="Center" Foreground="{StaticResource FgColor}"/>
</StackPanel>
</HierarchicalDataTemplate>
</TreeView.ItemTemplate>
<TreeView.ItemContainerStyle>
<Style TargetType="TreeViewItem">
<Setter Property="IsExpanded" Value="{Binding IsExpanded, Mode=TwoWay}"/>
</Style>
</TreeView.ItemContainerStyle>
</TreeView>
<!-- Footer -->
<Grid Grid.Row="3" Margin="15,0,15,15">
<TextBlock x:Name="InfoLabel" Text="Selected: 0" Foreground="#888888" VerticalAlignment="Center"/>
<StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
<Button Content="Cancel" Click="Cancel_Click" Margin="0,0,10,0"/>
<Button Content="Confirm" Style="{StaticResource AccentButton}" Click="Confirm_Click"/>
</StackPanel>
</Grid>
</Grid>
</Border>
</Window>
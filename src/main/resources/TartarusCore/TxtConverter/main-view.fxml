<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<!-- Обернули все в VBox, чтобы добавить наш кастомный заголовок сверху -->
<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="TartarusCore.TxtConverter.MainController" styleClass="root">

    <!-- >>> НАШ НОВЫЙ КАСТОМНЫЙ ЗАГОЛОВОК ОКНА <<< -->
    <HBox fx:id="titleBar" alignment="CENTER_LEFT" spacing="10" styleClass="custom-title-bar">
        <padding>
            <Insets left="10.0"/>
        </padding>
        <Label text="TXT File Converter" styleClass="title-label"/>
        <Region HBox.hgrow="ALWAYS"/> <!-- Распорка, чтобы кнопки были справа -->
        <Button fx:id="minimizeBtn" onAction="#handleMinimize" styleClass="window-button" text="_"/>
        <Button fx:id="closeBtn" onAction="#handleClose" styleClass="window-button,close-button" text="X"/>
    </HBox>

    <BorderPane VBox.vgrow="ALWAYS">
        <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
        </padding>
        <top>
            <VBox spacing="10.0" BorderPane.alignment="CENTER">
                <children>
                    <Label text="Настройки Конвертации">
                        <font>
                            <Font name="System Bold" size="16.0"/>
                        </font>
                    </Label>
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <children>
                            <Label text="Папка с исходниками:" HBox.hgrow="NEVER"/>
                            <TextField fx:id="sourceDirField" editable="false" HBox.hgrow="ALWAYS"/>
                            <Button fx:id="selectSourceBtn" onAction="#handleSelectSource" text="Выбрать..."/>
                        </children>
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <children>
                            <Label text="Пресет:"/>
                            <ComboBox fx:id="presetComboBox" prefWidth="150.0"/>
                        </children>
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <children>
                            <Label text="Расширения (через запятую):" HBox.hgrow="NEVER"/>
                            <TextField fx:id="extensionsField" promptText="Например: gd, tscn, java, xml"
                                       HBox.hgrow="ALWAYS"/>
                        </children>
                    </HBox>
                    <Button fx:id="convertBtn" maxWidth="Infinity" onAction="#handleConvert" text="НАЧАТЬ КОНВЕРТАЦИЮ"/>
                </children>
            </VBox>
        </top>
        <center>
            <VBox spacing="5.0" BorderPane.alignment="CENTER">
                <BorderPane.margin>
                    <Insets top="15.0"/>
                </BorderPane.margin>
                <children>
                    <Label text="Лог выполнения:">
                        <font>
                            <Font name="System Bold" size="14.0"/>
                        </font>
                    </Label>
                    <TextArea fx:id="logArea" editable="false" VBox.vgrow="ALWAYS"/>
                </children>
            </VBox>
        </center>
    </BorderPane>
</VBox>